<app-layout>

  <div class="cart-listing-container">
    <button class="goBack" (click)="goBackToDashboard()">
      <i class="fas fa-arrow-left"></i>
  </button>
    <h1 class="cart-title">Your Cart</h1>

    <div class="cart-table-wrapper">

      <table class="cart-table">
        <thead>
          <tr>
            <th>S.no</th>
            <th>Image</th>
            <th>Phone Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartItems; let i = index">
            <td>{{ i + 1 }}</td>
            <td><img [src]="item.image" alt="{{ item.title }}" class="cart-item-image"></td>
            <td>{{ item.title }}</td>
            <td>₹{{ item.price }}</td>
            <td>
              <div class="quantity-control">
                <button class="quantity-btn" (click)="decreaseQuantity(i)">&#8722;</button>
                <span>{{ item.quantity }}</span>
                <button class="quantity-btn" (click)="increaseQuantity(i)">&#43;</button>
              </div>
            </td>
            <td>₹{{ getTotalPrice(item) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="cart-summary" *ngIf="cartItems.length > 0">
      <h2>Total: ₹{{ getTotalCartPrice() }}</h2>
      <button class="checkout-btn"(click)="checkoutListing()">Proceed to Checkout</button>
    </div>
  </div>
</app-layout>
